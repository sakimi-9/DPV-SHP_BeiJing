# åŒ—äº¬äºŒæ‰‹æˆ¿æ•°æ®å¯è§†åŒ–é¡¹ç›®

## ğŸ“ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºçœŸå®äºŒæ‰‹æˆ¿æ•°æ®çš„å¯è§†åŒ–åˆ†æå¹³å°ï¼Œé‡‡ç”¨Vue3 + TypeScript + EChartsæŠ€æœ¯æ ˆæ„å»ºï¼Œæä¾›ä¸°å¯Œçš„æ•°æ®å›¾è¡¨å±•ç¤ºå’Œæ·±åº¦åˆ†æåŠŸèƒ½ã€‚é¡¹ç›®æ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼ï¼ŒåŒ…æ‹¬Dockerå®¹å™¨åŒ–éƒ¨ç½²ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Vue 3** - æ¸è¿›å¼JavaScriptæ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScriptè¶…é›†
- **Vite** - ç°ä»£åŒ–çš„å‰ç«¯æ„å»ºå·¥å…·
- **ECharts 5.5** - å¼ºå¤§çš„æ•°æ®å¯è§†åŒ–å›¾è¡¨åº“
- **Bun** - å¿«é€Ÿçš„JavaScriptè¿è¡Œæ—¶å’ŒåŒ…ç®¡ç†å™¨
- **Nginx** - é«˜æ€§èƒ½WebæœåŠ¡å™¨ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

### æ•°æ®å¤„ç†
- **Excel æ•°æ®æº** - æ”¯æŒæœ¬åœ°Excelæ–‡ä»¶æ•°æ®å¯¼å…¥
- **JSON æ ¼å¼è½¬æ¢** - å°†Excelæ•°æ®è½¬æ¢ä¸ºWebå‹å¥½çš„JSONæ ¼å¼
- **æ•°æ®è§£æå™¨** - è‡ªå®šä¹‰æ•°æ®è§£æå’Œå¤„ç†é€»è¾‘

### åŠŸèƒ½ç‰¹æ€§
- **æ•°æ®å¯è§†åŒ–** - åŸºäºEChartsçš„ä¸°å¯Œå›¾è¡¨å±•ç¤º
- **å®æ—¶æ•°æ®åŠ è½½** - æ”¯æŒåŠ¨æ€æ•°æ®åŠ è½½å’Œæ›´æ–°
- **å“åº”å¼è®¾è®¡** - é€‚é…å„ç§å±å¹•å°ºå¯¸
- **å®¹å™¨åŒ–éƒ¨ç½²** - æ”¯æŒDockerä¸€é”®éƒ¨ç½²
- **å¤šç¯å¢ƒæ”¯æŒ** - å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒé…ç½®

## ğŸš€ æœ¬åœ°éƒ¨ç½²æŒ‡å—

### å‰ç½®è¦æ±‚
- Node.js 18+ æˆ– Bun
- Docker Desktopï¼ˆç”¨äºå®¹å™¨åŒ–éƒ¨ç½²ï¼‰
- Git

### æ–¹æ³•1ï¼šæœ¬åœ°å¼€å‘æ¨¡å¼

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/sakimi-9/DPV-SHP_BeiJing.git
cd DPV-SHP_BeiJing/py_crawler/rendering
```

2. **å®‰è£…ä¾èµ–**
```bash
# ä½¿ç”¨ Bunï¼ˆæ¨èï¼‰
bun install

# æˆ–ä½¿ç”¨ npm
npm install
```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
# ä½¿ç”¨ Bun
bun run dev

# æˆ–ä½¿ç”¨ npm
npm run dev
```

4. **è®¿é—®åº”ç”¨**
æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:5173

### æ–¹æ³•2ï¼šç”Ÿäº§ç¯å¢ƒæ„å»º

1. **æ„å»ºé¡¹ç›®**
```bash
cd py_crawler/rendering
bun run build
```

2. **é¢„è§ˆæ„å»ºç»“æœ**
```bash
bun run preview
```

## ğŸ³ Docker éƒ¨ç½²

### æ–¹æ³•1ï¼šä½¿ç”¨é¢„æ„å»ºé•œåƒï¼ˆæ¨èï¼‰
```bash
# æ‹‰å–é•œåƒ
docker pull sakimi9/dpv-shp_beijing:latest

# è¿è¡Œå®¹å™¨
docker run -d -p 8080:80 --name dpv-shp_beijing sakimi9/dpv-shp_beijing:latest
```

### æ–¹æ³•2ï¼šDocker Composeï¼ˆä¸€é”®éƒ¨ç½²ï¼‰
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/sakimi-9/DPV-SHP_BeiJing.git
cd DPV-SHP_BeiJing/py_crawler/rendering

# ä½¿ç”¨ Docker Compose å¯åŠ¨
docker-compose up -d
```

### æ–¹æ³•3ï¼šæœ¬åœ°æ„å»ºé•œåƒ
```bash
cd py_crawler/rendering
docker build -t sakimi9/dpv-shp_beijing:latest .
docker run -d -p 8080:80 --name dpv-shp_beijing sakimi9/dpv-shp_beijing:latest
```

### æ–¹æ³•4ï¼šä½¿ç”¨æ„å»ºè„šæœ¬ï¼ˆWindowsï¼‰
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd py_crawler/rendering

# è¿è¡Œæ„å»ºè„šæœ¬
./build-and-push.bat

# æˆ–ä½¿ç”¨ npm è„šæœ¬
npm run docker:build
npm run docker:run
```

## ğŸ“ é¡¹ç›®ç»“æ„
```
åŒ—äº¬äºŒæ‰‹æˆ¿æ•°æ®å¯è§†åŒ–/
â”œâ”€â”€ py_crawler/
â”‚   â”œâ”€â”€ rendering/                  # å‰ç«¯å¯è§†åŒ–é¡¹ç›®
â”‚   â”‚   â”œâ”€â”€ src/                   # æºä»£ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ App.vue           # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ main.ts           # åº”ç”¨å…¥å£
â”‚   â”‚   â”‚   â””â”€â”€ components/       # Vueç»„ä»¶
â”‚   â”‚   â”‚       â””â”€â”€ TwoDCharts.vue # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ util/                  # å·¥å…·è„šæœ¬
â”‚   â”‚   â”‚   â”œâ”€â”€ dataParser.ts     # æ•°æ®è§£æå™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ xlsxè½¬csv.ts      # Excelè½¬CSV
â”‚   â”‚   â”‚   â””â”€â”€ xlsxè½¬json.ts     # Excelè½¬JSON
â”‚   â”‚   â”œâ”€â”€ public/                # é™æ€èµ„æº
â”‚   â”‚   â”‚   â”œâ”€â”€ house_data.json   # æˆ¿æºæ•°æ®JSON
â”‚   â”‚   â”‚   â”œâ”€â”€ house_data.csv    # æˆ¿æºæ•°æ®CSV
â”‚   â”‚   â”‚   â””â”€â”€ area_coordinates.json # åŒºåŸŸåæ ‡æ•°æ®
â”‚   â”‚   â”œâ”€â”€ doc/                   # é¡¹ç›®æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ Dockerfile            # Dockeræ„å»ºæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ docker-compose.yml    # Docker Composeé…ç½®
â”‚   â”‚   â”œâ”€â”€ nginx.conf            # Nginxé…ç½®
â”‚   â”‚   â”œâ”€â”€ build-and-push.bat    # Windowsæ„å»ºè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ build-and-push.sh     # Linuxæ„å»ºè„šæœ¬
â”‚   â”‚   â””â”€â”€ package.json          # é¡¹ç›®ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ data_handle/               # æ•°æ®å¤„ç†è„šæœ¬
â”‚   â””â”€â”€ spider_project/            # çˆ¬è™«é¡¹ç›®
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ docker-build.yml      # GitHub Actionsè‡ªåŠ¨æ„å»º
â””â”€â”€ README-project.md              # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ“‹ è®¿é—®åº”ç”¨

### å¼€å‘æ¨¡å¼
- å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼šhttp://localhost:5173
- é¢„è§ˆæ„å»ºç»“æœï¼šhttp://localhost:4173

### ç”Ÿäº§æ¨¡å¼
- Dockerå®¹å™¨è®¿é—®ï¼šhttp://localhost:8080

## ğŸ› ï¸ å®¹å™¨ç®¡ç†å‘½ä»¤

### åŸºç¡€å‘½ä»¤
```bash
# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker ps

# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs dpv-shp_beijing

# åœæ­¢å®¹å™¨
docker stop dpv-shp_beijing

# åˆ é™¤å®¹å™¨
docker rm dpv-shp_beijing

# é‡å¯å®¹å™¨
docker restart dpv-shp_beijing
```

### ä½¿ç”¨ Docker Compose ç®¡ç†
```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
docker-compose logs -f

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose down

# é‡æ–°æ„å»ºå¹¶å¯åŠ¨
docker-compose up --build -d

# æ‰©å±•æœåŠ¡å®ä¾‹
docker-compose up -d --scale dpv-shp-beijing=2
```

### ä½¿ç”¨ npm è„šæœ¬ç®¡ç†
```bash
# æ„å»ºé•œåƒ
npm run docker:build

# è¿è¡Œå®¹å™¨
npm run docker:run

# åœæ­¢å¹¶åˆ é™¤å®¹å™¨
npm run docker:stop

# æ¨é€åˆ°Docker Hub
npm run docker:push

# ä½¿ç”¨ Compose å¯åŠ¨
npm run compose:up

# ä½¿ç”¨ Compose åœæ­¢
npm run compose:down
```

## ğŸ“Š æ•°æ®å¯è§†åŒ–åŠŸèƒ½

### æ ¸å¿ƒå¯è§†åŒ–æ¨¡å—
1. **äºŒæ‰‹æˆ¿ä»·æ ¼åˆ†æ** - å±•ç¤ºæˆ¿ä»·åˆ†å¸ƒå’Œè¶‹åŠ¿
2. **åŒºåŸŸçƒ­åŠ›å›¾** - å±•ç¤ºå„åŒºåŸŸæˆ¿æºå¯†åº¦å’Œä»·æ ¼
3. **æˆ¿æºç±»å‹ç»Ÿè®¡** - ä¸åŒæˆ¿å‹çš„æ•°é‡å’Œä»·æ ¼å¯¹æ¯”
4. **å…³æ³¨åº¦åˆ†æ** - æˆ¿æºå…³æ³¨äººæ•°ä¸ä»·æ ¼ã€é¢ç§¯çš„å…³ç³»
5. **æˆ·å‹åˆ†å¸ƒåˆ†æ** - å„ç§æˆ·å‹çš„å¸‚åœºå æ¯”
6. **å¤šç»´åº¦ç‰¹å¾å…³è”** - å¹³è¡Œåæ ‡å›¾å±•ç¤ºæˆ¿æºç»¼åˆç‰¹å¾

### äº¤äº’å¼å›¾è¡¨
- **æ•£ç‚¹å›¾** - æˆ¿ä»·ä¸é¢ç§¯å…³ç³»åˆ†æ
- **æŸ±çŠ¶å›¾** - å„åŒºåŸŸæˆ¿æºç»Ÿè®¡
- **ç›´æ–¹å›¾** - ä»·æ ¼å’Œé¢ç§¯åˆ†å¸ƒ
- **é¥¼å›¾** - æˆ¿æºç±»å‹åˆ†å¸ƒ
- **çƒ­åŠ›å›¾** - åŒºåŸŸä»·æ ¼å¯†åº¦åˆ†æ
- **æ°”æ³¡å›¾** - å¤šç»´åº¦æ•°æ®å…³è”å±•ç¤º
- **å¹³è¡Œåæ ‡å›¾** - æˆ¿æºç‰¹å¾å…³è”åˆ†æ

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„æ•°æ®åˆ†æè§†å›¾

1. **åœ¨ `src/components/` åˆ›å»ºæ–°çš„Vueç»„ä»¶**
2. **åœ¨ `src/App.vue` ä¸­å¼•å…¥å¹¶æ³¨å†Œç»„ä»¶**
3. **å‡†å¤‡å¯¹åº”çš„æ•°æ®æ–‡ä»¶åˆ° `public/` ç›®å½•**
4. **ä½¿ç”¨EChartsè¿›è¡Œå›¾è¡¨æ¸²æŸ“**

### æ•°æ®å¤„ç†æµç¨‹

1. **åŸå§‹æ•°æ®** (`public/house_data.json`) â†’ **æ•°æ®è§£æ** (`util/dataParser.ts`)
2. **è§£æåæ•°æ®** â†’ **å›¾è¡¨æ¸²æŸ“** (`components/TwoDCharts.vue`)
3. **å¯è§†åŒ–å±•ç¤º** â†’ **ç”¨æˆ·ç•Œé¢** (`App.vue`)

### Docker å¼€å‘æµç¨‹

1. **ä¿®æ”¹ä»£ç ** â†’ **æœ¬åœ°æµ‹è¯•** (`bun run dev`)
2. **æ„å»ºé•œåƒ** â†’ **æµ‹è¯•å®¹å™¨** (`npm run docker:build && npm run docker:run`)
3. **æ¨é€é•œåƒ** â†’ **ç”Ÿäº§éƒ¨ç½²** (`npm run docker:push`)

## ğŸ“ æŠ€æœ¯è¦ç‚¹

- **å“åº”å¼è®¾è®¡** - æ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯è®¿é—®
- **ç»„ä»¶åŒ–å¼€å‘** - å¯å¤ç”¨çš„EChartså›¾è¡¨ç»„ä»¶
- **ç±»å‹å®‰å…¨** - TypeScriptç¡®ä¿ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡
- **ç°ä»£åŒ–æ„å»º** - Viteæä¾›å¿«é€Ÿçš„å¼€å‘å’Œæ„å»ºä½“éªŒ
- **å®¹å™¨åŒ–éƒ¨ç½²** - Dockeræ”¯æŒä¸€é”®éƒ¨ç½²å’Œè¿ç»´
- **æ•°æ®é©±åŠ¨** - åŸºäºçœŸå®åŒ—äº¬äºŒæ‰‹æˆ¿å¸‚åœºæ•°æ®
- **é«˜æ€§èƒ½** - Nginxé™æ€æ–‡ä»¶æœåŠ¡ï¼Œä¼˜åŒ–åŠ è½½é€Ÿåº¦
- **å¤šé˜¶æ®µæ„å»º** - ä¼˜åŒ–é•œåƒå¤§å°å’Œæ„å»ºæ•ˆç‡

## ğŸš€ éƒ¨ç½²æˆåŠŸç¡®è®¤

âœ… **Dockeré•œåƒæ„å»ºå®Œæˆ**
- é•œåƒåç§°: `sakimi9/dpv-shp_beijing:latest`
- é¢„ä¼°é•œåƒå¤§å°: ~50MB
- æ¨é€ç›®æ ‡: Docker Hub

âœ… **å®¹å™¨è¿è¡Œé…ç½®**
- å®¹å™¨åç§°: `dpv-shp_beijing`
- è¿è¡Œç«¯å£: 8080:80
- é‡å¯ç­–ç•¥: `unless-stopped`
- å¥åº·æ£€æŸ¥: å¯ç”¨

âœ… **Docker Composeé…ç½®**
- é…ç½®æ–‡ä»¶: `docker-compose.yml`
- ç½‘ç»œé…ç½®: è‡ªåŠ¨åˆ›å»ºä¸“ç”¨ç½‘ç»œ
- æœåŠ¡ç¼–æ’: æ”¯æŒå¤šæœåŠ¡æ‰©å±•
- ç¯å¢ƒå˜é‡: ç”Ÿäº§ç¯å¢ƒé…ç½®

âœ… **è‡ªåŠ¨åŒ–æ„å»º**
- GitHub Actions: è‡ªåŠ¨æ„å»ºå’Œæ¨é€
- å¤šå¹³å°æ”¯æŒ: linux/amd64, linux/arm64
- ç¼“å­˜ä¼˜åŒ–: æé«˜æ„å»ºé€Ÿåº¦

## ğŸ¯ ä½¿ç”¨è¯´æ˜

### å¿«é€Ÿå¯åŠ¨
```bash
# æ–¹æ³•1: ä½¿ç”¨é¢„æ„å»ºé•œåƒ
docker run -d -p 8080:80 --name dpv-shp_beijing sakimi9/dpv-shp_beijing:latest

# æ–¹æ³•2: ä½¿ç”¨ Docker Compose
docker-compose up -d

# æ–¹æ³•3: ä½¿ç”¨æ„å»ºè„šæœ¬ (Windows)
./build-and-push.bat
```

### è®¿é—®åº”ç”¨
1. **å¯åŠ¨æœåŠ¡**: é€‰æ‹©ä¸Šè¿°ä»»ä¸€æ–¹æ³•å¯åŠ¨
2. **è®¿é—®åº”ç”¨**: æµè§ˆå™¨æ‰“å¼€ http://localhost:8080
3. **æŸ¥çœ‹æ•°æ®**: é¡µé¢å°†è‡ªåŠ¨åŠ è½½å¹¶å±•ç¤ºåŒ—äº¬äºŒæ‰‹æˆ¿æ•°æ®å¯è§†åŒ–
4. **åœæ­¢æœåŠ¡**: ä½¿ç”¨ `docker-compose down` æˆ– `docker stop dpv-shp_beijing`

### æ•°æ®åˆ†æåŠŸèƒ½
- **åŸºç¡€æ•°æ®åˆ†å¸ƒ**: æŸ¥çœ‹æˆ¿æºæ•°é‡ã€ä»·æ ¼ã€é¢ç§¯åˆ†å¸ƒ
- **å…³æ³¨åº¦åˆ†æ**: äº†è§£å¸‚åœºçƒ­ç‚¹å’Œç”¨æˆ·åå¥½
- **åŒºåŸŸå¯¹æ¯”**: ä¸åŒåŒºåŸŸçš„æˆ¿ä»·å’Œæˆ¿æºç‰¹å¾å¯¹æ¯”
- **å¤šç»´åº¦å…³è”**: å‘ç°æˆ¿æºç‰¹å¾ä¹‹é—´çš„å…³è”å…³ç³»

## ğŸ”— ç›¸å…³é“¾æ¥

- **GitHubä»“åº“**: https://github.com/sakimi-9/DPV-SHP_BeiJing
- **Docker Hub**: https://hub.docker.com/r/sakimi9/dpv-shp_beijing
- **é—®é¢˜åé¦ˆ**: https://github.com/sakimi-9/DPV-SHP_BeiJing/issues

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æºã€‚è¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

**æ³¨æ„**: ç¡®ä¿åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨HTTPSï¼Œå¹¶æ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´Nginxé…ç½®å’Œå®‰å…¨è®¾ç½®ã€‚
